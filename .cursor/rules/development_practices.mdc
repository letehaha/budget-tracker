---
description: Development practices and workflow rules for Claude Code interactions
globs: **/*
alwaysApply: true
---

## Testing Rules

**CRITICAL**: Do NOT run tests automatically unless the user explicitly requests it.

- ❌ **Never run tests without being asked:**
  - `npm test`
  - `npm run test:e2e`
  - `jest`
  - Any test commands

- ❌ **Don't "verify" implementations by running tests on your own**

- ✅ **Only run tests when the user specifically says:**
  - "run tests"
  - "test this"
  - "verify with tests"
  - Or similar explicit requests

- ✅ **You can suggest running tests, but wait for user confirmation**
  - Example: "Would you like me to run the tests to verify this works?"

**Why**: Test runs can be slow, expensive (Docker containers, database setup), and the user may want to control when they happen.

## Directory Awareness Rules

**CRITICAL**: ALWAYS check your current working directory before performing file operations.

- ❌ **Never assume you're in the project root**

- ❌ **Don't perform file operations without verifying location:**
  - Creating files
  - Reading files with relative paths
  - Running commands that depend on directory structure

- ✅ **ALWAYS check `pwd` first when:**
  - About to create/modify files in `.cursor/`, `.taskmaster/`, or other root-level directories
  - Running commands that have different behavior based on location
  - Using relative paths for file operations

- ✅ **Navigate to the correct directory explicitly:**
  ```bash
  # ✅ DO: Check where you are, then navigate
  pwd  # Check current location
  cd ../../  # Navigate to root if needed

  # ❌ DON'T: Assume location and create files
  mkdir -p .cursor/rules  # This will fail if you're in packages/backend
  ```

**Common mistake**: Being in `packages/backend` but trying to access root-level directories like `.cursor/`, `.taskmaster/`, etc.

**Rule of thumb**: If you're about to touch anything outside the current directory, run `pwd` first.
